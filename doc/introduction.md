# git の概念

## git の目的

リビジョンは、ファイルやディレクトリの改訂。
git の目的は、リビジョンに対する以下の3つの操作ができること
- リビジョンの作成
- リビジョンの復元
- リビジョンのマージ

リビジョンの作成とは、ある瞬間のファイルやディレクトリの状態を保存し1つのリビジョンとして記録すること。
例えば、ファイルを修正したいが古いものをバックアップにとっておきたいことがある。
そのセーブポイントとして、ファイルとディレクトリ全体をリビジョンとして保存することができる。

リビジョンの復元とは、ファイルやディレクトリを特定のリビジョンの状態に復元すること。
例えば、他人が作成したファイルを確認したいことがある。
その際に、他人のリビジョンに含まれるファイルとディレクトリの状態を復元することができる。

リビジョンのマージとは、複数のリビジョンを元にその内容をマージした1つのリビジョン作成すること。
例えば、他人のファイルの変更と自分のファイルの変更をマージしたいことがある。
その際に、それぞれの変更をリビジョンとして作成し、マージすることができる。



## リポジトリ

リポジトリは、git のデータの保管庫。
リビジョン・ブランチなどの git のデータを保持している。(ブランチについては後述)
特定のディレクトリをリポジトリにすることによって、そのディレクトリ配下でリビジョンの作成・マージ・復元を行うことができるようになる。


## ワークツリー・インデックス

ワークツリーは、リビジョンの復元先のディレクトリ全体。
デフォルトでは、リポジトリとして指定したディレクトリ全体がワークツリーとなる。
リビジョンが変わる際、変わった先のリビジョンのファイルやディレクトリがワークツリーに復元される。

インデックスは、ファイルの変更を一時保存する場所。
ワークツリーと異なり実際のディレクトリ上には見えず裏で管理されている。
リビジョンが変わる際、変わった先のリビジョンのファイルやディレクトリがインデックスに復元される。

ワークツリーとインデックスの活用方法の1つとして、「リビジョンに保存するファイルの選別」がある。
実際の開発では、複数の作業を一度に行って後からリビジョンを作成したいことがある。
その際にまず、ワークツリー上の1作業分のファイルの変更をインデックスに登録する。
その後、インデックスをリビジョンとして保存することで、作業ごとにファイルを選別してリビジョンとして保存することができる。


## ブランチ

ブランチは、開発の目印。
ブランチは特定のリビジョンを指し示し、ブランチ名からどんな機能を開発しているかを判別することができる。
またリビジョンの作成時に、現在のブランチが作成されたリビジョンへと移動するため、ブランチは最新の開発リビジョンを指し示すことができる。

ワークツリー・インデックスの状態を特定のリビジョンに変更したい場合は、ブランチの切り替えを行う。
現在のブランチを切り替えることで、そのブランチの指すリビジョンがワークツリー・インデックス上に復元される。
リビジョンの変更は、ブランチの切り替えによって行うことが多い。


## ローカルリポジトリ・リモートリポジトリ

ローカルリポジトリは、手元で作業するためのリポジトリ。
リモートリポジトリは、ローカルリポジトリとは別の場所に配置されたリポジトリ。
ローカルリポジトリでリモートリポジトリを設定することで、2つのリポジトリ間で git データ(リビジョン・ブランチなど)を共有することができる。

例えば、チームで各々のローカルリポジトリに共有のリモートリポジトリを設定することで、チーム間でリビジョンやブランチを共有することができる。
